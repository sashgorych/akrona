{"version":3,"names":[],"mappings":"","sources":["main.js"],"sourcesContent":["var isIE = navigator.userAgent.indexOf('Trident') > -1;\r\n\r\nlet vh = window.innerHeight * 0.01;\r\ndocument.documentElement.style.setProperty('--vh', `${vh}px`);\r\nwindow.addEventListener('resize', () => {\r\n    // We execute the same script as before\r\n    let vh2 = window.innerHeight * 0.01;\r\n    document.documentElement.style.setProperty('--vh', `${vh2}px`);\r\n    // if(Math.abs(vh - vh2) > 1){\r\n    //     console.log('here')\r\n    //     document.documentElement.style.setProperty('--vh', `${vh2}px`);\r\n    //\r\n    // }\r\n});\r\nlet words = {\r\n    \"productFavHint\": 'В обране'\r\n}\r\n\r\n//header scripts start----------------------------------------------------------------------------\r\n//for menu start----------------------------------------\r\nfunction unlockBg() {\r\n    clearMarginInsteadScrollBody();\r\n    $(\"body\").removeClass('locked');\r\n    $(window).scrollTop($('body').attr('data-pos'));\r\n}\r\n\r\nfunction lockBg() {\r\n    makeMarginInsteadScrollBody()\r\n    // when popup opens\r\n    $('body').attr('data-pos', $(window).scrollTop()); // get actual scrollpos\r\n    $('body').addClass('locked'); // add class to body\r\n    $('.layout').scrollTop($('body').attr('data-pos')); // let wrapper scroll to scrollpos\r\n\r\n}\r\n\r\nfunction showDarkMenuBg() {\r\n    $('.side-menu__bg').addClass('active')\r\n\r\n}\r\n\r\nfunction hideDarkMenuBg() {\r\n    $('.side-menu__bg').removeClass('active')\r\n\r\n}\r\n\r\nfunction showMainMenu() {\r\n    $('.menu-main-container').addClass('active')\r\n\r\n}\r\n\r\nfunction makeMarginInsteadScrollBody() {\r\n    $('.layout ').css('margin-right', (window.innerWidth - $('body').width()) + 'px');\r\n}\r\n\r\nfunction clearMarginInsteadScrollBody() {\r\n    $('.layout').css('margin-right', 0 + 'px');\r\n}\r\n\r\nfunction hideMainMenu() {\r\n    $('.menu-main-container').removeClass('active')\r\n\r\n}\r\n\r\n// menu category open/close\r\n$('.unit-toggle-span').click(function (e) {\r\n    $(this).toggleClass('active')\r\n    $(this).parent().find('.submenu-list').toggleClass('active')\r\n})\r\n\r\n//main menu.close btn click\r\n$('.menu-main-top .menu-mob').click(function (e) {\r\n    hideMainMenu();\r\n    hideDarkMenuBg();\r\n    unlockBg();\r\n    hideMobileSearchBlock()\r\n})\r\n\r\n//main menu.close menu when click in background\r\n$('.side-menu__bg').click(function (e) {\r\n    hideMainMenu();\r\n    hideDarkMenuBg();\r\n    unlockBg();\r\n    hideMobileSearchBlock()\r\n\r\n})\r\n\r\n//main menu.hamburger click\r\n$('.menu').click(function (e) {\r\n    showMainMenu();\r\n    showDarkMenuBg();\r\n    lockBg();\r\n})\r\n\r\n//for menu end-----------------------------------------\r\n\r\n\r\n//search start ----------------------------------------\r\n\r\n//mobile search block. clear input\r\n$('.search-mobile-form-input-clear').click(function (e) {\r\n    e.preventDefault();\r\n    clearMobileSearchInput()\r\n})\r\n\r\n//mobile search block. close btn click\r\n$('.search-mobile-form-close .icon-close').click(function (e) {\r\n    hideMobileSearchBlock()\r\n})\r\n\r\n//mobile search block. open btn click (in mobile menu)\r\n$('.mobile-search').click(function (e) {\r\n    e.preventDefault()\r\n    showMobileSearchBlock()\r\n})\r\n\r\n//mobile search block.make search btn click.\r\n$('.search-mobile-form-input-btn').click(function (e) {\r\n    e.preventDefault();\r\n    makeSearchRequest($('#search-mobile').val());\r\n})\r\n\r\n//pc. make search btn click\r\n$('.search-btn').click(function (e) {\r\n    e.preventDefault();\r\n    makeSearchRequest($('#search-pc-str').val());\r\n\r\n})\r\n\r\nfunction showMobileSearchBlock() {\r\n    $('.search-mobile-form').addClass('active')\r\n}\r\n\r\nfunction hideMobileSearchBlock() {\r\n    $('.search-mobile-form').removeClass('active')\r\n}\r\n\r\nfunction clearMobileSearchInput() {\r\n    $('#search-mobile').val(\"\")\r\n}\r\n\r\n//search end ----------------------------------------\r\n\r\n//header scripts end -----------------------------------------------------------------------------\r\n$('.products-slider').slick({\r\n    slidesToShow: 5,\r\n    arrows: true,\r\n    slidesToScroll: 5,\r\n    responsive: [\r\n        {\r\n            breakpoint: 1366,\r\n            settings: {\r\n                slidesToShow: 4,\r\n                slidesToScroll: 4\r\n            }\r\n        }, {\r\n            breakpoint: 1230,\r\n            settings: {\r\n                slidesToShow: 4,\r\n                slidesToScroll: 4\r\n            }\r\n        },\r\n        {\r\n            breakpoint: 1180,\r\n            settings: {\r\n                slidesToShow: 3,\r\n                slidesToScroll: 3\r\n            }\r\n        },\r\n        {\r\n            breakpoint: 730,\r\n            settings: {\r\n                slidesToShow: 2,\r\n                slidesToScroll: 2\r\n            }\r\n        },\r\n        {\r\n            breakpoint: 576,\r\n            settings: {\r\n                slidesToShow: 1,\r\n                slidesToScroll: 1\r\n            }\r\n        }\r\n    ]\r\n});\r\n$('.beneficial-offers-slider').slick({\r\n    slidesToShow: 4,\r\n    arrows: true,\r\n    slidesToScroll: 4,\r\n    responsive: [\r\n        {\r\n            breakpoint: 1366,\r\n            settings: {\r\n                slidesToShow: 3,\r\n                slidesToScroll: 3\r\n            }\r\n        }, {\r\n            breakpoint: 1230,\r\n            settings: {\r\n                slidesToShow: 4,\r\n                slidesToScroll: 4\r\n            }\r\n        },\r\n        {\r\n            breakpoint: 992,\r\n            settings: {\r\n                slidesToShow: 3,\r\n                slidesToScroll: 3\r\n            }\r\n        },\r\n        {\r\n            breakpoint: 730,\r\n            settings: {\r\n                slidesToShow: 2,\r\n                slidesToScroll: 2\r\n            }\r\n        },\r\n        {\r\n            breakpoint: 576,\r\n            settings: {\r\n                slidesToShow: 1,\r\n                slidesToScroll: 1\r\n            }\r\n        }\r\n    ]\r\n});\r\n$('.banner-slider-pc').slick({\r\n    dots: true,\r\n    arrows: true,\r\n    responsive: [\r\n        {\r\n            breakpoint: 1280,\r\n            settings: {\r\n                dots: false,\r\n                arrows: false\r\n            }\r\n        }]\r\n});\r\n$('.banner-slider-mobile').slick({\r\n    dots: true,\r\n    arrows: true\r\n});\r\n\r\n\r\nif (!isIE) {\r\n\r\n\r\n    let tippy1 = document.querySelector('.text-templates .productFavHint');\r\n    tippy('.set-favourite a:not(.active)', {\r\n        content: tippy1.innerHTML,\r\n        theme: 'light',\r\n\r\n    });\r\n    let tippy2 = document.querySelector('.text-templates .add-to-cartHint');\r\n    tippy('.add-to-cart', {\r\n        content: tippy2.innerHTML,\r\n        theme: 'light',\r\n\r\n    });\r\n}\r\n$('.search').hover(function (e) {\r\n    $('.search').addClass('active')\r\n})\r\n$('.current-language').click(function (e) {\r\n    e.preventDefault()\r\n    if (!$('.language-list').hasClass('active')) {\r\n        $('.language-list').addClass('active')\r\n    } else {\r\n        $('.language-list').removeClass('active')\r\n\r\n    }\r\n})\r\n$(document).click(function (e) {\r\n    //language block when click outside\r\n    let language = $(\".language\");\r\n    if (!language.is(e.target) && language.has(e.target).length === 0) {\r\n        $('.language-list').removeClass('active')\r\n    }\r\n\r\n    //catalog page. sort block when click outside\r\n    let selected__method = $(\".selected__method\");\r\n    if (!selected__method.is(e.target) && selected__method.has(e.target).length === 0) {\r\n        $('.method__list').removeClass('active')\r\n    }\r\n})\r\n$(document).on('click', '.minus', function (e) {\r\n    if (!isAvailableProductItem(e)) return;\r\n    counteReduce(e);\r\n    e.preventDefault()\r\n});\r\n\r\nfunction isAvailableProductItem(e) {\r\n    if ($(e.target).parents('.item').hasClass('not-available')) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n\r\n$(document).on('click', '.plus', function (e) {\r\n    if (!isAvailableProductItem(e)) return;\r\n    counterIncrease(e);\r\n    e.preventDefault()\r\n});\r\n\r\n//counter in  product item. check if input only number\r\n$('.counter input').keyup(function (e) {\r\n    let text = e.target.value;\r\n    let testText = text;\r\n    let step = +e.target.dataset.step || 1;\r\n    let correctNumber;\r\n    if (testText * 1 + 0 != text) {\r\n        correctNumber = testText.substring(0, testText.length - 1)\r\n        if (isNaN(correctNumber)) {\r\n            correctNumber = step;\r\n        }\r\n        e.target.value = correctNumber;\r\n\r\n    }\r\n\r\n});\r\n\r\n//counter in  product item. checl input with correct step\r\n$('.counter input').change(function (e) {\r\n    let step = +e.target.dataset.step || 1;\r\n    e.target.value = round(e.target.value, step)\r\n})\r\n\r\n\r\nfunction round(number, step) {\r\n    let num = Math.ceil(number / step) * step;\r\n    if (num == 0) {\r\n        num = step\r\n    }\r\n    return num;\r\n}\r\n\r\nfunction checkCounterValue(e) {\r\n    console.log(checkNumber(e));\r\n    console.log(e.target.value)\r\n}\r\n\r\nfunction counterIncrease(e) {\r\n    e.preventDefault()\r\n    let input = e.target.parentNode.querySelector('input');\r\n    let step = +input.dataset.step || 1;\r\n    input.value = +input.value + step;\r\n}\r\n\r\nfunction checkNumber(e) {\r\n    if ((e.which >= 48 && e.which <= 57) // цифры\r\n        ||\r\n        (e.which >= 96 && e.which <= 105) // num lock\r\n        ||\r\n        e.which == 8 // backspace\r\n        ||\r\n        (e.which >= 37 && e.which <= 40) // стрелки\r\n        ||\r\n        e.which == 46) // delete\r\n    {\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction counteReduce(e) {\r\n    e.preventDefault()\r\n    let input = e.target.parentNode.querySelector('input');\r\n    let step = +input.dataset.step || 1;\r\n    let value = +input.value;\r\n    if (value > step) {\r\n        input.value = value - step;\r\n    }\r\n}\r\n\r\ndocument.querySelectorAll('.rating').forEach(el => {\r\n    setStarInPercent(el, el.dataset.rate)\r\n})\r\n\r\nfunction setStarInPercent(element, percent) {\r\n    let a = percent % 20;\r\n    let b = Math.trunc(percent / 20)\r\n    let i = 0;\r\n    console.log(element)\r\n    console.log(element.querySelectorAll('.rateStarPopup'))\r\n    for (i; i < b; i++) {\r\n        element.querySelectorAll('.rateStarPopup')[i].classList.add('active')\r\n    }\r\n    if (a < 10 && a > 0) {\r\n        element.querySelectorAll('.rateStarPopup')[i].classList.add('active25')\r\n    }\r\n    if (a > 10) {\r\n        element.querySelectorAll('.rateStarPopup')[i].classList.add('active75')\r\n    }\r\n    if (a == 10) {\r\n        element.querySelectorAll('.rateStarPopup')[i].classList.add('active50')\r\n    }\r\n}\r\n\r\n\r\n//catalog page\r\n//sort popup\r\n$('.selected__method').click(function (e) {\r\n    e.preventDefault()\r\n    if (!$('.method__list').hasClass('active')) {\r\n        $('.method__list').addClass('active')\r\n    } else {\r\n        $('.method__list').removeClass('active')\r\n\r\n    }\r\n})\r\n$('.f-title').click(function (e) {\r\n    e.preventDefault()\r\n    console.log('here')\r\n    if (!$(this).parent().find('.content').hasClass('active')) {\r\n        $(this).parent().find('.content').addClass('active')\r\n        $(this).addClass('active')\r\n    } else {\r\n        $(this).parent().find('.content').removeClass('active')\r\n        $(this).removeClass('active')\r\n\r\n    }\r\n})\r\n\r\n//price slider\r\nfunction priceSliderInit() {\r\n    let minValue = +document.querySelector('.valueMin').dataset.valuemin;\r\n    let maxValue = +document.querySelector('.valueMax').dataset.valuemax;\r\n    console.log(minValue)\r\n    console.log(maxValue)\r\n    $(\"#slider-range\").slider({\r\n        range: true,\r\n        min: minValue,\r\n        max: maxValue,\r\n        values: [minValue, maxValue],\r\n        slide: function (event, ui) {\r\n            $(\"#min\").val(ui.values[0])\r\n            $(\"#max\").val(ui.values[1])\r\n        }\r\n    });\r\n    $(\"#amount\").val(\"$\" + $(\"#slider-range\").slider(\"values\", 0) +\r\n        \" - $\" + $(\"#slider-range\").slider(\"values\", 1));\r\n}\r\n\r\npriceSliderInit()\r\n\r\nfunction makeSearchRequest(dataStr) {\r\n    console.log(dataStr)\r\n}\r\n\r\n//# sourceMappingURL=main.js.map"],"file":"main.js"}